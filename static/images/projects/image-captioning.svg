<svg width="500" height="400" viewBox="0 0 500 400" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="500" height="400" fill="#0f0f23"/>
  
  <!-- Title -->
  <text x="250" y="30" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="18" font-weight="bold">Image Captioning Architecture</text>
  <text x="250" y="50" text-anchor="middle" fill="#60a5fa" font-family="Arial, sans-serif" font-size="14">CLIP Vision Encoder + GPT-2 Text Decoder</text>
  
  <!-- Input Image Section -->
  <rect x="30" y="70" width="120" height="90" fill="#1e293b" stroke="#3b82f6" stroke-width="2" rx="8"/>
  <text x="90" y="85" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="12" font-weight="bold">Input Image</text>
  
  <!-- Sample image with more detail -->
  <rect x="40" y="95" width="100" height="55" fill="#374151" rx="4"/>
  <!-- Mountain landscape -->
  <path d="M 40 130 L 60 120 L 80 125 L 100 115 L 140 130 Z" fill="#10b981" stroke="#059669" stroke-width="1"/>
  <circle cx="70" cy="110" r="8" fill="#fbbf24"/>
  <rect x="45" y="135" width="20" height="10" fill="#8b5cf6" rx="2"/>
  <rect x="75" y="140" width="15" height="8" fill="#ef4444" rx="2"/>
  
  <!-- CLIP Vision Encoder -->
  <rect x="180" y="70" width="140" height="90" fill="#1e293b" stroke="#10b981" stroke-width="3" rx="8"/>
  <text x="250" y="85" text-anchor="middle" fill="#10b981" font-family="Arial, sans-serif" font-size="14" font-weight="bold">CLIP Vision Encoder</text>
  
  <!-- CLIP architecture visualization -->
  <rect x="190" y="95" width="120" height="55" fill="#0f172a" rx="4"/>
  <!-- Vision Transformer layers -->
  <rect x="195" y="100" width="15" height="8" fill="#10b981" rx="2"/>
  <rect x="215" y="100" width="15" height="8" fill="#10b981" rx="2"/>
  <rect x="235" y="100" width="15" height="8" fill="#10b981" rx="2"/>
  <rect x="255" y="100" width="15" height="8" fill="#10b981" rx="2"/>
  <rect x="275" y="100" width="15" height="8" fill="#10b981" rx="2"/>
  <rect x="295" y="100" width="15" height="8" fill="#10b981" rx="2"/>
  
  <rect x="195" y="115" width="15" height="8" fill="#10b981" rx="2"/>
  <rect x="215" y="115" width="15" height="8" fill="#10b981" rx="2"/>
  <rect x="235" y="115" width="15" height="8" fill="#10b981" rx="2"/>
  <rect x="255" y="115" width="15" height="8" fill="#10b981" rx="2"/>
  <rect x="275" y="115" width="15" height="8" fill="#10b981" rx="2"/>
  <rect x="295" y="115" width="15" height="8" fill="#10b981" rx="2"/>
  
  <text x="250" y="140" text-anchor="middle" fill="#10b981" font-family="Arial, sans-serif" font-size="10">Vision Features [512d]</text>
  
  <!-- Arrow to Cross-Attention -->
  <path d="M 320 115 L 350 115" stroke="#f59e0b" stroke-width="3" marker-end="url(#arrowhead)"/>
  
  <!-- Cross-Attention Mechanism -->
  <rect x="350" y="70" width="120" height="90" fill="#1e293b" stroke="#f59e0b" stroke-width="3" rx="8"/>
  <text x="410" y="85" text-anchor="middle" fill="#f59e0b" font-family="Arial, sans-serif" font-size="14" font-weight="bold">Cross-Attention</text>
  
  <!-- Attention visualization -->
  <rect x="360" y="95" width="100" height="55" fill="#0f172a" rx="4"/>
  <!-- Attention matrix -->
  <circle cx="375" cy="105" r="3" fill="#f59e0b"/>
  <circle cx="390" cy="105" r="3" fill="#f59e0b"/>
  <circle cx="405" cy="105" r="3" fill="#f59e0b"/>
  <circle cx="420" cy="105" r="3" fill="#f59e0b"/>
  <circle cx="435" cy="105" r="3" fill="#f59e0b"/>
  
  <circle cx="375" cy="120" r="3" fill="#f59e0b"/>
  <circle cx="390" cy="120" r="3" fill="#f59e0b"/>
  <circle cx="405" cy="120" r="3" fill="#f59e0b"/>
  <circle cx="420" cy="120" r="3" fill="#f59e0b"/>
  <circle cx="435" cy="120" r="3" fill="#f59e0b"/>
  
  <circle cx="375" cy="135" r="3" fill="#f59e0b"/>
  <circle cx="390" cy="135" r="3" fill="#f59e0b"/>
  <circle cx="405" cy="135" r="3" fill="#f59e0b"/>
  <circle cx="420" cy="135" r="3" fill="#f59e0b"/>
  <circle cx="435" cy="135" r="3" fill="#f59e0b"/>
  
  <text x="410" y="150" text-anchor="middle" fill="#f59e0b" font-family="Arial, sans-serif" font-size="10">Attention Weights</text>
  
  <!-- GPT-2 Decoder Section -->
  <rect x="180" y="190" width="290" height="120" fill="#1e293b" stroke="#8b5cf6" stroke-width="3" rx="8"/>
  <text x="325" y="205" text-anchor="middle" fill="#8b5cf6" font-family="Arial, sans-serif" font-size="14" font-weight="bold">GPT-2 Text Decoder</text>
  
  <!-- GPT-2 architecture -->
  <rect x="190" y="215" width="270" height="85" fill="#0f172a" rx="4"/>
  
  <!-- Transformer layers -->
  <rect x="195" y="220" width="260" height="8" fill="#8b5cf6" rx="2"/>
  <rect x="195" y="235" width="260" height="8" fill="#8b5cf6" rx="2"/>
  <rect x="195" y="250" width="260" height="8" fill="#8b5cf6" rx="2"/>
  <rect x="195" y="265" width="260" height="8" fill="#8b5cf6" rx="2"/>
  <rect x="195" y="280" width="260" height="8" fill="#8b5cf6" rx="2"/>
  
  <!-- Generated text -->
  <text x="200" y="305" fill="#ffffff" font-family="Arial, sans-serif" font-size="11">Generated Caption:</text>
  <text x="200" y="320" fill="#10b981" font-family="Arial, sans-serif" font-size="12">"A scenic mountain landscape with a bright sun,</text>
  <text x="200" y="335" fill="#10b981" font-family="Arial, sans-serif" font-size="12">featuring purple and red geometric shapes below"</text>
  
  <!-- Bottom Section - Evaluation & Integration -->
  <rect x="30" y="330" width="440" height="60" fill="#1e293b" stroke="#ffffff" stroke-width="1" rx="8"/>
  <text x="250" y="350" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="14" font-weight="bold">Evaluation & Integration</text>
  
  <!-- Evaluation metrics -->
  <g fill="#ffffff">
    <text x="50" y="370" font-family="Arial, sans-serif" font-size="11">BLEU-4: 0.85</text>
    <text x="50" y="385" font-family="Arial, sans-serif" font-size="11">METEOR: 0.78</text>
    
    <text x="150" y="370" font-family="Arial, sans-serif" font-size="11">ROUGE-L: 0.82</text>
    <text x="150" y="385" font-family="Arial, sans-serif" font-size="11">CIDEr: 0.91</text>
    
    <text x="250" y="370" font-family="Arial, sans-serif" font-size="11">W&B: ✓</text>
    <text x="250" y="385" font-family="Arial, sans-serif" font-size="11">HF Hub: ✓</text>
    
    <text x="350" y="370" font-family="Arial, sans-serif" font-size="11">Multi-Dataset: ✓</text>
    <text x="350" y="385" font-family="Arial, sans-serif" font-size="11">Dual Models: ✓</text>
  </g>
  
  <!-- Data flow arrows -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#f59e0b"/>
    </marker>
  </defs>
  
  <!-- Additional flow arrows -->
  <path d="M 90 160 L 180 160" stroke="#3b82f6" stroke-width="2" marker-end="url(#arrowhead2)"/>
  <path d="M 250 160 L 250 190" stroke="#8b5cf6" stroke-width="2" marker-end="url(#arrowhead3)"/>
  
  <defs>
    <marker id="arrowhead2" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#3b82f6"/>
    </marker>
    <marker id="arrowhead3" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#8b5cf6"/>
    </marker>
  </defs>
</svg>
